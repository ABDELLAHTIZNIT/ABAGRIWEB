<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AB AGRIWEB â€” Dashboard</title>
<style>
  :root{
    --bg:#0f2135; --panel:#0f1b2d; --panel2:#0e1a2a;
    --text:#e6f6e6; --muted:#9fb3c8; --accent:#7CFC00; --border:#243248;
  }
  *{box-sizing:border-box}
  body{margin:0; background:var(--bg); color:var(--text); font:15px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; overflow-x:hidden}

  /* Top bar */
  .topbar{height:56px; display:flex; align-items:center; justify-content:space-between; padding:0 12px 0 10px; border-bottom:1px solid var(--border); background:linear-gradient(180deg,#0e1b2c,#0c1726); position:sticky; top:0; z-index:60}
  .hamb{font-size:22px; cursor:pointer; width:36px; height:36px; display:grid; place-items:center; border-radius:999px}
  .hamb:hover{background:rgba(255,255,255,.06)}
  .title{font-weight:800; letter-spacing:.6px}
  .rightslot{display:flex; align-items:center; gap:10px}
  .rightslot img{height:26px; width:auto; object-fit:contain}

  .wrap{padding:14px}
  .card{background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:14px; margin-bottom:14px}
  .hr{height:1px;background:var(--border); margin:10px 0}
  .muted{color:var(--muted); font-size:12px}
  .btn{background:var(--accent); color:#07150e; font-weight:700; border:0; padding:10px 12px; border-radius:12px; cursor:pointer}
  .btn.secondary{background:#233349; color:#dbe9ff}
  .row{display:grid; grid-template-columns:1fr; gap:10px}
  label{font-size:13px; color:var(--muted)}
  .inp{display:flex; gap:8px; align-items:center; background:#0e1a2a; border:1px solid var(--border); padding:10px 12px; border-radius:12px}
  .inp input,.inp select{flex:1; background:transparent; border:0; outline:0; color:var(--text)}
  .table{width:100%; border-collapse:collapse; font-size:14px}
  .table th,.table td{border-bottom:1px solid var(--border); padding:10px}
  .actions{display:flex; gap:8px}
  .iconbtn{background:#1a2a42; border:1px solid var(--border); color:#e6f6e6; border-radius:10px; padding:6px 10px; cursor:pointer}
  .iconbtn.delete{background:#3a1e24; border-color:#5d2a32}

  /* Tabs inside ParamÃ¨tres */
  .tabs{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px}
  .tab{padding:8px 12px; border:1px solid var(--border); border-radius:12px; background:#0f1b2d; cursor:pointer; color:#cfe6ff}
  .tab.active{background:#1b2a41; color:#e6f6e6}
  .tabpan{display:none}
  .tabpan.show{display:block}

  /* Sidebar / overlay */
  .overlay{position:fixed; inset:0; background:rgba(0,0,0,.45); opacity:0; visibility:hidden; transition:.2s; z-index:55}
  .overlay.show{opacity:1; visibility:visible}
  .sidebar{position:fixed; inset:0 auto 0 0; width:268px; max-width:86vw; background:linear-gradient(180deg,#0b1524,#0a1220); border-right:1px solid var(--border); transform:translateX(-100%); transition:transform .25s; z-index:60; display:flex; flex-direction:column}
  .sidebar.open{transform:translateX(0)}
  .sb-top{display:flex; align-items:center; justify-content:space-between; padding:12px; border-bottom:1px solid var(--border)}
  .sb-close{font-size:20px; width:34px; height:34px; display:grid; place-items:center; border-radius:10px; cursor:pointer}
  .sb-close:hover{background:rgba(255,255,255,.06)}
  .sb-nav{padding:8px}
  .sb-item{display:flex; align-items:center; gap:10px; padding:12px 10px; border-radius:12px; color:var(--text); text-decoration:none; border:1px solid transparent}
  .sb-item:hover{background:var(--panel2); border-color:var(--border)}
  .sb-item.active{background:#1b2a41; border-color:var(--border)}
  .sb-foot{margin-top:auto; padding:8px}
  .logout{background:var(--accent); color:#08140e; text-align:center; padding:10px; border-radius:12px; cursor:pointer; font-weight:700}
</style>
</head>
<body>

  <!-- Topbar -->
  <div class="topbar">
    <div class="left"><span class="hamb" id="openMenu">â˜°</span></div>
    <div class="title">AB AGRIWEB</div>
    <div class="rightslot"><img id="topbarLogo" alt=""></div>
  </div>

  <!-- Overlay + Sidebar -->
  <div id="overlay" class="overlay" tabindex="-1"></div>
  <nav id="sidebar" class="sidebar" aria-hidden="true">
    <div class="sb-top">
      <strong>Menu</strong>
      <span id="closeMenu" class="sb-close">âœ•</span>
    </div>
    <div class="sb-nav">
      <a class="sb-item" href="#" onclick="alert('Irrigation: Ù‚Ø±ÙŠØ¨Ù‹Ø§')">ğŸŒ¿ Irrigation</a>
      <a class="sb-item" href="#" onclick="alert('Traitement: Ù‚Ø±ÙŠØ¨Ù‹Ø§')">ğŸ’§ Traitement</a>
      <a class="sb-item active" href="#params" onclick="scrollToParams()">âš™ï¸ ParamÃ¨tres</a>
    </div>
    <div class="sb-foot"><div class="logout" onclick="doLogout()">Logout</div></div>
  </nav>

  <div class="wrap" id="params">
    <div class="card">
      <h2 style="margin:0 0 10px">ParamÃ¨tres</h2>

      <!-- Tabs -->
      <div class="tabs" id="tabs">
        <button class="tab active" data-target="tab-ops">OpÃ©rateur</button>
        <button class="tab" data-target="tab-prof">Profil</button>
        <button class="tab" data-target="tab-ref">RÃ©fÃ©rentiel</button>
        <button class="tab" data-target="tab-acl">Droits dâ€™accÃ¨s</button>
        <button class="tab" data-target="tab-pass">Mot de passe</button>
        <button class="tab" data-target="tab-brand">Branding</button>
      </div>

      <!-- OpÃ©rateur -->
      <div class="tabpan show" id="tab-ops">
        <div class="row">
          <div class="card">
            <h3>Liste des opÃ©rateurs</h3>
            <table class="table" id="opsTable">
              <thead><tr><th>Nom dâ€™utilisateur</th><th>Profil</th><th>Ferme</th><th>Actions</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
          <div class="card">
            <h3>Ajouter un opÃ©rateur</h3>
            <div class="row">
              <div class="inp"><label>Username&nbsp;</label><input id="op_username" placeholder="ex: abdellah"></div>
              <div class="inp"><label>Password&nbsp;</label><input id="op_password" placeholder="ex: 20202020"></div>
              <div class="inp">
                <label>Profil&nbsp;</label>
                <select id="op_profile"></select>
              </div>
              <div class="inp">
                <label>Ferme&nbsp;</label>
                <select id="op_ferme"></select>
              </div>
              <div class="actions">
                <button class="btn" onclick="addOperator()">Enregistrer</button>
                <button class="iconbtn" onclick="seedDemo()">Seed demo</button>
              </div>
              <div class="muted">ÙŠØªÙ… Ø§Ù„Ø­ÙØ¸ Ù…Ø­Ù„ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ·ÙˆÙŠØ±.</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Profil -->
      <div class="tabpan" id="tab-prof">
        <div class="row">
          <div class="card">
            <h3>Profils</h3>
            <table class="table" id="profTable">
              <thead><tr><th>Nom du profil</th><th>Actions</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
          <div class="card">
            <h3>Ajouter un profil</h3>
            <div class="row">
              <div class="inp"><label>Nom&nbsp;</label><input id="prof_name" placeholder="ex: Admin, Magasinier..."></div>
              <div><button class="btn" onclick="addProfile()">Ajouter</button></div>
            </div>
          </div>
        </div>
      </div>

      <!-- RÃ©fÃ©rentiel -->
      <div class="tabpan" id="tab-ref">
        <div class="row">
          <div class="card">
            <h3>RÃ©fÃ©rentiel â€” Ferme</h3>
            <table class="table" id="fermeTable">
              <thead><tr><th>Nom</th><th>Emplacement</th><th>SociÃ©tÃ©</th><th>Responsable</th><th>Actions</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
          <div class="card">
            <h3>Ajouter une ferme</h3>
            <div class="row">
              <div class="inp"><label>Nom&nbsp;</label><input id="f_nom" placeholder="ex: Karam 16"></div>
              <div class="inp"><label>Emplacement&nbsp;</label><input id="f_lieu" placeholder="ex: Tiznit"></div>
              <div class="inp"><label>SociÃ©tÃ©&nbsp;</label><input id="f_soc" placeholder="ex: Karam Green"></div>
              <div class="inp"><label>Responsable&nbsp;</label><input id="f_resp" placeholder="ex: M. Said"></div>
              <div class="actions">
                <button class="btn" onclick="addFerme()">Enregistrer</button>
              </div>
            </div>
          </div>

          <div class="card">
            <h3>Autres rÃ©fÃ©rentiels (rapides)</h3>
            <div class="row">
              <div class="inp"><label>SociÃ©tÃ©&nbsp;</label><input id="ref_soc" placeholder="Ajouter sociÃ©tÃ©..."><button class="iconbtn" onclick="addRef('societes','ref_soc')">+</button></div>
              <div class="inp"><label>Responsable&nbsp;</label><input id="ref_resp" placeholder="Ajouter responsable..."><button class="iconbtn" onclick="addRef('responsables','ref_resp')">+</button></div>
              <div class="inp"><label>Station&nbsp;</label><input id="ref_stat" placeholder="Ajouter station..."><button class="iconbtn" onclick="addRef('stations','ref_stat')">+</button></div>
              <div class="inp"><label>Secteur&nbsp;</label><input id="ref_sect" placeholder="Ajouter secteur..."><button class="iconbtn" onclick="addRef('secteurs','ref_sect')">+</button></div>
              <div class="inp"><label>Parcelle&nbsp;</label><input id="ref_parc" placeholder="Ajouter parcelle..."><button class="iconbtn" onclick="addRef('parcelles','ref_parc')">+</button></div>
              <div class="inp"><label>Transport&nbsp;</label><input id="ref_trans" placeholder="Ajouter transport..."><button class="iconbtn" onclick="addRef('transports','ref_trans')">+</button></div>
              <div class="inp"><label>VariÃ©tÃ©&nbsp;</label><input id="ref_var" placeholder="Ajouter variÃ©tÃ©..."><button class="iconbtn" onclick="addRef('varietes','ref_var')">+</button></div>
              <div class="inp"><label>VariÃ©tÃ© champ&nbsp;</label><input id="ref_varc" placeholder="Ajouter variÃ©tÃ© champ..."><button class="iconbtn" onclick="addRef('varietes_champ','ref_varc')">+</button></div>
            </div>
            <div class="muted">Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… ØªÙØ®Ø²Ù† Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¹Ù…Ø§Ù„Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§ ÙÙŠ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬.</div>
          </div>
        </div>
      </div>

      <!-- Droits dâ€™accÃ¨s -->
      <div class="tabpan" id="tab-acl">
        <div class="card">
          <h3>RÃ¨gles dâ€™accÃ¨s (Ø¨Ø³ÙŠØ·Ø© Ù„Ù„ØªØ¬Ø±Ø¨Ø©)</h3>
          <div class="row">
            <div class="inp"><label>Autoriser crÃ©ation dâ€™opÃ©rateurs</label><input type="checkbox" id="acl_create_ops"></div>
            <div class="inp"><label>Autoriser modification rÃ©fÃ©rentiel</label><input type="checkbox" id="acl_edit_ref"></div>
            <button class="btn" onclick="saveACL()">Enregistrer</button>
          </div>
          <div class="muted">Ù…Ø¨Ø¯Ø¦ÙŠÙ‹Ø§ Ù†Ø®Ø²Ù† Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª ÙÙŠ localStorage ÙÙ‚Ø·.</div>
        </div>
      </div>

      <!-- Mot de passe -->
      <div class="tabpan" id="tab-pass">
        <div class="card">
          <h3>Changer mot de passe (local)</h3>
          <div class="row">
            <div class="inp"><label>Username</label><input id="pw_user" placeholder="username"></div>
            <div class="inp"><label>Nouveau mot de passe</label><input id="pw_new" placeholder="nouveau mot de passe"></div>
            <button class="btn" onclick="changePassword()">Enregistrer</button>
          </div>
          <div class="muted">Ù‡Ø°Ø§ Ø§Ù„ØªØºÙŠÙŠØ± ÙŠØ¤Ø«Ø± ÙÙ‚Ø· Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© opÃ©rateurs Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø§Ù„Ø¢Ù†.</div>
        </div>
      </div>

      <!-- Branding -->
      <div class="tabpan" id="tab-brand">
        <div class="row">
          <div class="card">
            <h3>Login Background</h3>
            <div class="inp">
              <input id="brand_login_bg_url" type="text" placeholder="assets/image/login-bg.jpg">
              <button class="btn" type="button" onclick="saveBrandUrl('brand.loginBg','brand_login_bg_url')">Save URL</button>
            </div>
            <div class="hr"></div>
            <label class="muted">Ø£Ùˆ Ø­Ù…Ù‘Ù„ ØµÙˆØ±Ø© (png/jpg/gif)</label>
            <input id="brand_login_bg_file" type="file" accept=".png,.jpg,.jpeg,.gif" onchange="saveBrandFile('brand.loginBg', this)">
          </div>

          <div class="card">
            <h3>Login Badge (Ø´ÙØ§Ù)</h3>
            <div class="inp">
              <input id="brand_login_badge_url" type="text" placeholder="assets/image/login-badge.png">
              <button class="btn" type="button" onclick="saveBrandUrl('brand.loginBadge','brand_login_badge_url')">Save URL</button>
            </div>
            <div class="hr"></div>
            <label class="muted">png/gif ÙÙ‚Ø·</label>
            <input id="brand_login_badge_file" type="file" accept=".png,.gif" onchange="saveBrandFile('brand.loginBadge', this)">
          </div>

          <div class="card">
            <h3>Topbar Logo (ÙŠÙ…ÙŠÙ† â˜°)</h3>
            <div class="inp">
              <input id="brand_topbar_logo_url" type="text" placeholder="assets/image/topbar-logo.png">
              <button class="btn" type="button" onclick="saveBrandUrl('brand.topbarLogo','brand_topbar_logo_url')">Save URL</button>
            </div>
            <div class="hr"></div>
            <input id="brand_topbar_logo_file" type="file" accept=".png,.jpg,.jpeg,.gif" onchange="saveBrandFile('brand.topbarLogo', this)">
          </div>
        </div>
      </div>

    </div>
  </div>

<script>
/* ===== Sidebar ===== */
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');
const openBtn  = document.getElementById('openMenu');
const closeBtn = document.getElementById('closeMenu');
function openSidebar(){ sidebar.classList.add('open'); overlay.classList.add('show'); sidebar.setAttribute('aria-hidden','false'); }
function closeSidebar(){ sidebar.classList.remove('open'); overlay.classList.remove('show'); sidebar.setAttribute('aria-hidden','true'); }
openBtn.addEventListener('click', openSidebar);
closeBtn.addEventListener('click', closeSidebar);
overlay.addEventListener('click', closeSidebar);
document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeSidebar(); });
function scrollToParams(){ document.getElementById('params').scrollIntoView({behavior:'smooth'}); }

/* ===== Tabs ===== */
const tabButtons = document.querySelectorAll('.tab');
const tabPans    = document.querySelectorAll('.tabpan');
tabButtons.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabButtons.forEach(b=>b.classList.remove('active'));
    tabPans.forEach(p=>p.classList.remove('show'));
    btn.classList.add('active');
    document.getElementById(btn.dataset.target).classList.add('show');
  });
});

/* ===== Branding helpers ===== */
function saveBrandUrl(key, inputId){
  const val = document.getElementById(inputId).value.trim();
  if(!val){ alert('Ø¶Ø¹ Ù…Ø³Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© Ø£Ùˆ Ø±Ø§Ø¨Ø·Ù‡Ø§'); return; }
  localStorage.setItem(key, val);
  applyTopbarLogo();
  alert('Saved âœ”');
}
function saveBrandFile(key, input){
  const file = input.files && input.files[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = () => { localStorage.setItem(key, reader.result); applyTopbarLogo(); alert('Saved âœ”'); };
  reader.readAsDataURL(file);
}
function applyTopbarLogo(){
  const src = localStorage.getItem('brand.topbarLogo') || 'assets/image/topbar-logo.png';
  document.getElementById('topbarLogo').src = src;
}
function hydrateBrandInputs(){
  [['brand.loginBg','brand_login_bg_url'],
   ['brand.loginBadge','brand_login_badge_url'],
   ['brand.topbarLogo','brand_topbar_logo_url']].forEach(([k,id])=>{
      const v = localStorage.getItem(k); if(v) document.getElementById(id).value = v;
   });
}

/* ===== Data storage ===== */
function getArr(key){ return JSON.parse(localStorage.getItem(key)||'[]'); }
function setArr(key,arr){ localStorage.setItem(key, JSON.stringify(arr)); }

/* === Profiles === */
function renderProfiles(){
  const t = document.querySelector('#profTable tbody'); t.innerHTML='';
  getArr('data.profiles').forEach((p,i)=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${p}</td>
      <td class="actions">
        <button class="iconbtn" onclick="editProfile(${i})">âœï¸</button>
        <button class="iconbtn delete" onclick="delProfile(${i})">ğŸ—‘ï¸</button>
      </td>`;
    t.appendChild(tr);
  });
  // fill profile select
  const sel = document.getElementById('op_profile');
  sel.innerHTML=''; getArr('data.profiles').forEach(p=>{
    const o=document.createElement('option'); o.textContent=p; o.value=p; sel.appendChild(o);
  });
}
function addProfile(){
  const name = document.getElementById('prof_name').value.trim();
  if(!name) return alert('Nom requis');
  const arr = getArr('data.profiles'); if(arr.includes(name)) return alert('Existe dÃ©jÃ ');
  arr.push(name); setArr('data.profiles',arr); document.getElementById('prof_name').value='';
  renderProfiles();
}
function editProfile(i){
  const arr=getArr('data.profiles'); const nv=prompt('Nouveau nom', arr[i]); if(!nv) return;
  arr[i]=nv.trim(); setArr('data.profiles',arr); renderProfiles();
}
function delProfile(i){
  const arr=getArr('data.profiles'); arr.splice(i,1); setArr('data.profiles',arr); renderProfiles();
}

/* === Fermes === */
function renderFermes(){
  const t=document.querySelector('#fermeTable tbody'); t.innerHTML='';
  getArr('data.fermes').forEach((f,i)=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${f.nom}</td><td>${f.lieu||''}</td><td>${f.soc||''}</td><td>${f.resp||''}</td>
      <td class="actions">
        <button class="iconbtn" onclick="editFerme(${i})">âœï¸</button>
        <button class="iconbtn delete" onclick="delFerme(${i})">ğŸ—‘ï¸</button>
      </td>`;
    t.appendChild(tr);
  });
  // fill ferme select
  const sel = document.getElementById('op_ferme');
  sel.innerHTML=''; getArr('data.fermes').forEach(f=>{
    const o=document.createElement('option'); o.textContent=f.nom; o.value=f.nom; sel.appendChild(o);
  });
}
function addFerme(){
  const nom=f('f_nom'), lieu=f('f_lieu'), soc=f('f_soc'), resp=f('f_resp');
  if(!nom) return alert('Nom requis');
  const arr=getArr('data.fermes'); arr.push({nom,lieu,soc,resp}); setArr('data.fermes',arr);
  ['f_nom','f_lieu','f_soc','f_resp'].forEach(id=>document.getElementById(id).value='');
  renderFermes();
}
function editFerme(i){
  const arr=getArr('data.fermes'); const item=arr[i];
  const nv=prompt('Nom', item.nom)||item.nom;
  arr[i]={...item, nom:nv}; setArr('data.fermes',arr); renderFermes();
}
function delFerme(i){ const arr=getArr('data.fermes'); arr.splice(i,1); setArr('data.fermes',arr); renderFermes(); }

/* === OpÃ©rateurs === */
function renderOperators(){
  const t=document.querySelector('#opsTable tbody'); t.innerHTML='';
  getArr('data.operators').forEach((o,i)=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${o.username}</td><td>${o.profile||''}</td><td>${o.ferme||''}</td>
      <td class="actions">
        <button class="iconbtn" onclick="editOperator(${i})">âœï¸</button>
        <button class="iconbtn delete" onclick="delOperator(${i})">ğŸ—‘ï¸</button>
      </td>`;
    t.appendChild(tr);
  });
}
function addOperator(){
  const username=f('op_username'), password=f('op_password'), profile=gsel('op_profile'), ferme=gsel('op_ferme');
  if(!username||!password) return alert('username + password');
  const arr=getArr('data.operators'); if(arr.some(o=>o.username===username)) return alert('Existe dÃ©jÃ ');
  arr.push({username,password,profile,ferme}); setArr('data.operators',arr);
  ['op_username','op_password'].forEach(id=>document.getElementById(id).value='');
  renderOperators();
}
function editOperator(i){
  const arr=getArr('data.operators'); const item=arr[i];
  const nv=prompt('Nouveau mot de passe pour '+item.username, item.password); if(!nv) return;
  item.password=nv; setArr('data.operators',arr); renderOperators();
}
function delOperator(i){ const arr=getArr('data.operators'); arr.splice(i,1); setArr('data.operators',arr); renderOperators(); }

/* === Autres rÃ©fÃ©rentiels simples === */
function addRef(key, inputId){
  const v=document.getElementById(inputId).value.trim(); if(!v) return;
  const arr=getArr('ref.'+key); arr.push(v); setArr('ref.'+key,arr); document.getElementById(inputId).value='';
}

/* === ACL / Password === */
function saveACL(){
  const data={create_ops:ge('acl_create_ops').checked, edit_ref:ge('acl_edit_ref').checked};
  localStorage.setItem('data.acl', JSON.stringify(data));
  alert('Saved âœ”');
}
function changePassword(){
  const u=f('pw_user'), np=f('pw_new'); if(!u||!np) return alert('complÃ©ter');
  const arr=getArr('data.operators'); const i=arr.findIndex(o=>o.username===u); if(i<0) return alert('user introuvable');
  arr[i].password=np; setArr('data.operators',arr); alert('ModifiÃ© âœ”');
}

/* === Helpers === */
function ge(id){return document.getElementById(id)}
function f(id){return ge(id).value.trim()}
function gsel(id){const e=ge(id); return e.options[e.selectedIndex]?.value||''}

/* === Demo seed (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) === */
function seedDemo(){
  if(!getArr('data.profiles').length) setArr('data.profiles', ['Admin','Magasinier','Pointeur','Directeur']);
  if(!getArr('data.fermes').length)   setArr('data.fermes', [{nom:'Karam 16',lieu:'Tiznit',soc:'Karam Green',resp:'M. Said'}]);
  if(!getArr('data.operators').length) setArr('data.operators', [{username:'ABDELLAH',password:'20202020',profile:'Admin',ferme:'Karam 16'}]);
  renderProfiles(); renderFermes(); renderOperators();
}

/* === Init === */
function init(){
  applyTopbarLogo();
  hydrateBrandInputs();
  renderProfiles(); renderFermes(); renderOperators();
  // Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ø³Ù…Ø­ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø¯ÙˆÙ† ØªØ­Ù‚Ù‚
  if(!localStorage.getItem('security.bypass')) localStorage.setItem('security.bypass','1');
}
init();

/* === Navigation === */
function doLogout(){ location.href='index.html'; }
</script>
</body>
</html>
