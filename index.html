<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AB AGRIWEB â€” Login</title>
<style>
  :root{
    --bg:#0f2135;
    --panel:#101827;
    --text:#e6f6e6;
    --muted:#9fb3c8;
    --accent:#7CFC00;
    --input:#0e1a2a;
    --border:#243248;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:var(--bg);
    font:16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    color:var(--text); display:grid; place-items:center;
  }

  /* ÙˆØ±Ù‚Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‡ÙŠ ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ù†ÙØ³Ù‡Ø§ */
  .login-card{
    width:min(420px, 92vw);
    min-height:520px;
    border-radius:22px;
    overflow:hidden;
    position:relative;
    background:#0c1b2b center/cover no-repeat;
    box-shadow:0 20px 50px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.04);
  }
  /* Ø·Ø¨Ù‚Ø© ØªØ¯Ø±Ù‘Ø¬ Ø®ÙÙŠÙ ÙÙˆÙ‚ Ø§Ù„ØµÙˆØ±Ø© Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØªØ¨Ø§ÙŠÙ† */
  .login-card::before{
    content:""; position:absolute; inset:0;
    background:linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.45));
    pointer-events:none;
  }

  /* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø­Ù‚ÙˆÙ„ */
  .login-inner{
    position:relative; z-index:2;
    padding:28px 22px 26px;
    display:flex; flex-direction:column; gap:14px;
    margin-top:110px; /* Ù†Ø®Ù„ÙŠ ÙØ±Ø§Øº Ø¹Ù„ÙˆÙŠ Ù„Ù„Ø¨Ø§Ø¯Ø¬ */
  }

  /* Ø§Ù„Ø¨Ø§Ø¯Ø¬ (Ù‚Ø§Ù„Ø¨ ØµØºÙŠØ± ÙÙˆÙ‚ Ø§Ù„Ø­Ù‚ÙˆÙ„) */
  .login-badge{
    position:absolute; z-index:3; inset:auto 0 auto 0;
    top:20px; display:grid; place-items:center;
  }
  .login-badge img{
    display:block; margin:0 auto;
    max-width:160px; max-height:90px;
    object-fit:contain;
    filter:drop-shadow(0 6px 18px rgba(0,0,0,.45));
  }

  label{font-size:13px; color:var(--muted)}
  .inp{
    display:flex; align-items:center; gap:8px;
    background:var(--input); border:1px solid var(--border);
    padding:12px 12px; border-radius:12px;
  }
  .inp input{
    width:100%; background:transparent; border:0; outline:0; color:var(--text);
    font-size:15px;
  }
  .eye{cursor:pointer; user-select:none; opacity:.8}
  .eye:hover{opacity:1}

  .btn{
    background:var(--accent); color:#0b1a12; font-weight:700;
    border:0; padding:12px 14px; border-radius:12px; width:100%;
    cursor:pointer; box-shadow:0 6px 18px rgba(124,252,0,.25);
  }
  .forgot{
    display:block; text-align:center; color:var(--muted); text-decoration:none; margin-top:6px;
  }
  .forgot:hover{color:#cfe6ff}

  /* ØªÙ„Ù…ÙŠØ­ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª */
  .hint{
    text-align:center; color:var(--muted); font-size:12px; margin-top:8px
  }
</style>
</head>
<body>

  <div class="login-card" id="loginCard">
    <!-- Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„ØµØºÙŠØ± ÙÙˆÙ‚ Ø§Ù„Ø­Ù‚ÙˆÙ„ -->
    <div class="login-badge"><img id="loginBadge" alt=""></div>

    <form class="login-inner" onsubmit="doLogin(event)">
      <div>
        <label>Username</label>
        <div class="inp">
          <input id="username" autocomplete="username" placeholder="Enter your username">
        </div>
      </div>

      <div>
        <label>Password</label>
        <div class="inp">
          <input id="password" type="password" autocomplete="current-password" placeholder="Enter your password">
          <span class="eye" id="toggleEye">ğŸ‘ï¸</span>
        </div>
      </div>

      <button class="btn">Login</button>
      <a href="#" class="forgot">Forgot password?</a>

      <div class="hint">Tip: ÙŠÙ…ÙƒÙ†Ùƒ Ø¶Ø¨Ø· ØµÙˆØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù…Ù† <strong>Branding</strong> Ø¯Ø§Ø®Ù„ ParamÃ¨tres.</div>
    </form>
  </div>

<script>
  // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨Ø±Ø§Ù†Ø¯ÙŠÙ†Øº Ù…Ù† localStorage
  function applyBranding(){
    const card = document.getElementById('loginCard');
    const badge = document.getElementById('loginBadge');

    const bg = localStorage.getItem('brand.loginBg') || 'assets/image/login-bg.jpg';
    const badgeSrc = localStorage.getItem('brand.loginBadge') || 'assets/image/login-badge.png';

    // Ù„Ùˆ Ø§Ù„Ù…Ø³ØªØ¹Ù…Ù„ Ø¹Ø·Ù‰ URL Ù†Ø³Ø¨ÙŠ (assets/...) Ø±Ø§Ù‡ ØºØ§Ø¯ÙŠ ÙŠØ®Ø¯Ù… Ù…Ø¨Ø§Ø´Ø±Ø©
    card.style.backgroundImage = `url('${bg}')`;
    badge.src = badgeSrc;
  }

  // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
  const pw = document.getElementById('password');
  document.getElementById('toggleEye').onclick = () => {
    pw.type = pw.type === 'password' ? 'text' : 'password';
  };

  // ØªØ­Ù‚Ù‚ Ø¯Ø®ÙˆÙ„ Ø¨Ø³ÙŠØ·: Ø¥Ø°Ø§ Ø¹Ø·Ù‘Ù„Ù†Ø§ Ø§Ù„Ø£Ù…Ø§Ù† Ù…Ø¤Ù‚ØªØ§Ù‹ Ù†Ø¯Ø®Ù„ Ù…Ø¨Ø§Ø´Ø±Ø©
  function doLogin(e){
    e.preventDefault();
    const bypass = localStorage.getItem('security.bypass') === '1';
    if(bypass){
      location.href = 'main.html';
      return;
    }
    // ØªØ­Ù‚Ù‚ Ø¶Ø¯ Ù„Ø§Ø¦Ø­Ø© opÃ©rateur Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ù…Ø­Ù„ÙŠØ§Ù‹
    const ops = JSON.parse(localStorage.getItem('data.operators')||'[]');
    const u = document.getElementById('username').value.trim();
    const p = document.getElementById('password').value.trim();
    const ok = ops.some(o => o.username===u && o.password===p);
    if(ok) location.href='main.html';
    else alert('Invalid credentials');
  }

  applyBranding();
</script>
</body>
</html>
