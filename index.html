<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AB AGRIWEB</title>
<style>
:root{--bg:#0f172a;--text:#e2e8f0;--accent:#22c55e}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:linear-gradient(180deg,#0f172a,#1e293b);
  color:var(--text);
  min-height:100vh;
  display:grid;
  place-items:center;
  padding:20px;
  transition:background .2s ease
}
/* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¢Ù† Ø¨Ù„Ø§ Ø®Ù„ÙÙŠØ© ÙˆÙ„Ø§ Ø¨ÙˆØ±Ø¯Ø± */
.card{
  width:min(420px,92vw);
  background:transparent;
  border:none;
  box-shadow:none;
  padding:22px;
}

/* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ù‚Ø±ÙˆØ¦ÙŠØ© ÙÙˆÙ‚ Ø§Ù„Ø®Ù„ÙÙŠØ© */
h1{margin:0 0 12px;color:var(--accent);text-align:center;text-shadow:0 2px 8px rgba(0,0,0,.6)}
.banner{margin:-4px -4px 14px -4px}
.banner img{width:100%;border-radius:12px;border:1px solid rgba(30,41,59,.6);box-shadow:0 8px 24px rgba(0,0,0,.45)}

label{display:block;margin:10px 0 6px;color:#e5eefc;text-shadow:0 2px 8px rgba(0,0,0,.6)}
.input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(51,65,85,.8);
  background:#091227e6; /* ØºØ§Ù…Ù‚ Ø´Ø¨Ù‡ Ø´ÙØ§Ù Ù„ÙŠÙˆØ¶Ø­ ÙÙˆÙ‚ Ø§Ù„ØµÙˆØ±Ø© */
  color:#e2e8f0;
  box-shadow:0 6px 16px rgba(0,0,0,.35)
}
.field{position:relative}
.eye{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer;filter:drop-shadow(0 2px 6px rgba(0,0,0,.6))}

.btn{
  width:100%;
  margin-top:12px;
  padding:12px;
  border-radius:10px;
  border:1px solid var(--accent);
  background:var(--accent);
  color:#0b1220;
  font-weight:700;
  cursor:pointer;
  text-align:center;
  display:block;
  box-shadow:0 10px 20px rgba(0,0,0,.35)
}
a{display:block;text-align:center;margin-top:10px;color:#c7e2ff;text-decoration:none;text-shadow:0 2px 8px rgba(0,0,0,.6)}
.hidden{display:none!important}
</style>
</head>
<body>
  <div class="card">
    <!-- Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
    <div id="loginLogoWrap" class="banner hidden"><img id="loginLogoImg" alt=""></div>
    <!-- Ø¨Ø§Ù†Ø± Ø§Ø®ØªÙŠØ§Ø±ÙŠ ÙÙˆÙ‚ Ø§Ù„Ø­Ù‚ÙˆÙ„ -->
    <div class="banner hidden" id="loginBanner"><img id="loginBannerImg" alt=""></div>
    <!-- Ø§Ø³Ù… Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø¥Ù† Ù„Ù… ÙŠÙˆØ¬Ø¯ Ø´Ø¹Ø§Ø± -->
    <h1 id="appTitle" class="hidden">AB AGRIWEB</h1>

    <label>Username</label>
    <input id="u" class="input" placeholder="Enter your username"/>

    <label>Password</label>
    <div class="field">
      <input id="p" type="password" class="input" placeholder="Enter your password"/>
      <span class="eye" onclick="togglePass()">ğŸ‘ï¸</span>
    </div>

    <a href="main.html" class="btn" id="loginBtn">Login</a>
    <a href="#">Forgot password?</a>
  </div>

<script>
const LS_APP='ab_appcfg', LS_IMG='ab_appimg';
function loadCfg(){try{return JSON.parse(localStorage.getItem(LS_APP)||'{}')}catch{return{}}}
function loadImgs(){try{return JSON.parse(localStorage.getItem(LS_IMG)||'{}')}catch{return{}}}

(function init(){
  const cfg=loadCfg();
  if(cfg.appTitle){ document.title=cfg.appTitle; }

  const imgs=loadImgs();

  // Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (PNG/GIF) Ø£Ùˆ fallback Ù„Ù„Ø§Ø³Ù…
  if( (imgs.logo && /^data:image\/(png|gif);/i.test(imgs.logo)) ||
      (typeof imgs.logo==='string' && /\.(png|gif)(\?|#|$)/i.test(imgs.logo)) ){
    const wrap=document.getElementById('loginLogoWrap');
    const img=document.getElementById('loginLogoImg');
    img.src=imgs.logo; wrap.classList.remove('hidden');
  } else {
    document.getElementById('appTitle').classList.remove('hidden');
  }

  // Ø¨Ø§Ù†Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„ (PNG/GIF)
  if( (imgs.login && /^data:image\/(png|gif);/i.test(imgs.login)) ||
      (typeof imgs.login==='string' && /\.(png|gif)(\?|#|$)/i.test(imgs.login)) ){
    const wrap=document.getElementById('loginBanner');
    const img=document.getElementById('loginBannerImg');
    img.src=imgs.login; wrap.classList.remove('hidden');
  }

  // Ø®Ù„ÙÙŠØ© ÙƒØ§Ù…Ù„Ø© (PNG/GIF)
  if( (imgs.loginBg && /^data:image\/(png|gif);/i.test(imgs.loginBg)) ||
      (typeof imgs.loginBg==='string' && /\.(png|gif)(\?|#|$)/i.test(imgs.loginBg)) ){
    document.body.style.backgroundImage=`url('${imgs.loginBg}')`;
    document.body.style.backgroundSize='cover';
    document.body.style.backgroundPosition='center';
    document.body.style.backgroundRepeat='no-repeat';
  } else {
    // Ø®Ù„ÙÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ùˆ Ù…Ø§ÙƒØ§Ù†Ø´ loginBg
    document.body.style.background='linear-gradient(180deg,#0f172a,#1e293b)';
  }
})();

function togglePass(){ const i=document.getElementById('p'); i.type=i.type==='password'?'text':'password'; }
function login(){ const url=new URL('main.html',window.location.href).toString(); window.location.href=url; }

// Ø¯Ø¹Ù… ÙÙŠ Ø­Ø§Ù„ Ø¥Ø¶Ø§ÙØ© ØªÙ…Ù†Ø¹ onclick
document.addEventListener('DOMContentLoaded',()=>{
  const btn=document.getElementById('loginBtn');
  if(btn) btn.addEventListener('click',(e)=>{ if(!btn.getAttribute('href')){ e.preventDefault(); login(); } });
});
</script>
</body>
</html>
